(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,t){},17:function(e,n,t){},19:function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(8),c=t.n(o),s=(t(15),t(2)),l=t(3),r=t(5),p=t(4),m=t(6),d=t(1);t(17);var u=function(e){function n(e){return Object(s.a)(this,n),Object(r.a)(this,Object(p.a)(n).call(this,e))}return Object(m.a)(n,e),Object(l.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"filter-window"},i.a.createElement("div",{className:"search"},i.a.createElement("label",{for:"place-search"},"Search Bars:"),i.a.createElement("input",{type:"search",id:"place-search",value:this.props.query,onChange:function(n){e.props.filterplaces(n.target.value)}})),i.a.createElement("section",null,i.a.createElement("div",{className:"places"},i.a.createElement("ol",{className:"places-list"},this.props.placelist&&this.props.placelist.length>0&&this.props.placelist.map(function(n,t){return i.a.createElement("li",{key:t,className:"place-item",onClick:function(){e.props.placelistclick(n)}},i.a.createElement("p",{className:"place-name"},n.name),i.a.createElement("p",{className:"place-address"},n.location.address,", ",n.location.city,", ",n.location.state," ",n.location.postalCode))})))))}}]),n}(a.Component),f=function(e){function n(e){var t;return Object(s.a)(this,n),(t=Object(r.a)(this,Object(p.a)(n).call(this,e))).state={query:""},t.filterPlaces=t.filterPlaces.bind(Object(d.a)(Object(d.a)(t))),t.placeListClick=t.placeListClick.bind(Object(d.a)(Object(d.a)(t))),t}return Object(m.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,n=new Promise(function(e,n){window.resolveMapsPromise=function(){e(window.google),delete window.resolveMapsPromise};var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC8vDwnM3yUOP2GRv4kwFQg6We60BRrDN0","&callback=resolveMapsPromise"),t.async=!0,document.body.appendChild(t)}),t=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("0OM1NOQ1YQMD3HBYBJT3MPFOZSB0XJYAWR3QEVI4NZF4SZOJ","&client_secret=").concat("1Y0XUO1GBRCCAZMOKAWNDSSTWRDV0FDAWYMSH3MAD5FNNGLM","&limit=50&query=").concat("bar","&ll=").concat("45.5122,-122.6587","&radius=50000&intent=browse&v=20190122");return fetch(e).then(function(e){return e.json()})}();Promise.all([n,t]).then(function(n){var t=n[0];e.places=n[1].response.venues,e.google=t,e.map=new t.maps.Map(document.getElementById("map"),{zoom:13,center:{lat:45.5122,lng:-122.6587}}),e.setState({placeList:e.places}),e.markers=[],e.places.forEach(function(n){var a=new t.maps.Marker({position:{lat:n.location.lat,lng:n.location.lng},map:e.map,id:n.id,name:n.name,animation:t.maps.Animation.DROP});e.markers.push(a);var i='<div className="infowindow-name">'+n.name+'</div><div className="infowindow-address"><p>'+n.location.address+"<br />"+n.location.city+", "+n.location.state+" "+n.location.postalCode+"</div>";t.maps.event.addListener(a,"click",function(){e.infowindow.setContent(i),e.map.setCenter(a.position),e.infowindow.open(e.map,a)}),a.addListener("click",function(){null!==a.getAnimation()?a.setAnimation(null):a.setAnimation(t.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},1e3)})}),e.infowindow=new t.maps.InfoWindow})}},{key:"filterPlaces",value:function(e){var n=this.places.filter(function(n){return n.name.toLowerCase().includes(e.toLowerCase())});this.markers.forEach(function(n){n.name.toLowerCase().includes(e.toLowerCase())?n.setVisible(!0):n.setVisible(!1)}),this.setState({placeList:n,query:e})}},{key:"placeListClick",value:function(e){var n=this.markers.filter(function(n){return n.id===e.id})[0];this.infowindow.setContent('<div className="infowindow-name">'+e.name+'</div><div className="infowindow-address"><p>'+e.location.address+"<br />"+e.location.city+", "+e.location.state+" "+e.location.postalCode+"</div>"),this.map.setCenter(n.position),this.infowindow.open(this.map,n),null!==n.getAnimation()?n.setAnimation(null):n.setAnimation(this.google.maps.Animation.BOUNCE),setTimeout(function(){n.setAnimation(null)},1e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},"Bars in Portland, OR")),i.a.createElement("div",{className:"container"},i.a.createElement(u,{filterplaces:this.filterPlaces,placelist:this.state.placeList,placelistclick:this.placeListClick}),i.a.createElement("main",{id:"map",role:"application"})))}}]),n}(a.Component),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,n){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(f,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/my-neighborhood-map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var n="".concat("/my-neighborhood-map","/service-worker.js");h?(function(e,n){fetch(e).then(function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e,n)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(n,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):w(n,e)})}}()},9:function(e,n,t){e.exports=t(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.4b1c108c.chunk.js.map
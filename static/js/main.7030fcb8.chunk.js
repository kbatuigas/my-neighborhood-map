(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(8),c=n.n(o),s=(n(15),n(2)),l=n(3),r=n(5),p=n(4),m=n(6),d=n(1);n(17);var u=function(e){function t(e){return Object(s.a)(this,t),Object(r.a)(this,Object(p.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"filter-window"},i.a.createElement("div",{className:"search"},i.a.createElement("label",{for:"place-search"},"Search Bars: "),i.a.createElement("input",{type:"search",id:"place-search",value:this.props.query,onChange:function(t){e.props.filterplaces(t.target.value)}})),i.a.createElement("section",null,i.a.createElement("div",{className:"places"},i.a.createElement("ol",{className:"places-list"},this.props.placelist&&this.props.placelist.length>0&&this.props.placelist.map(function(t,n){return i.a.createElement("li",{key:n,className:"place-item"},i.a.createElement("button",{type:"button",onClick:function(){e.props.placelistclick(t)}},i.a.createElement("p",{className:"place-name"},t.name),i.a.createElement("p",{className:"place-address"},t.location.address,", ",t.location.city,", ",t.location.state," ",t.location.postalCode)))})))))}}]),t}(a.Component),f=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(r.a)(this,Object(p.a)(t).call(this,e))).state={query:""},n.filterPlaces=n.filterPlaces.bind(Object(d.a)(Object(d.a)(n))),n.placeListClick=n.placeListClick.bind(Object(d.a)(Object(d.a)(n))),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new Promise(function(e,t){window.resolveMapsPromise=function(){e(window.google),delete window.resolveMapsPromise};var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyC8vDwnM3yUOP2GRv4kwFQg6We60BRrDN0","&callback=resolveMapsPromise"),n.async=!0,document.body.appendChild(n)}),n=function(){var e="https://api.foursquare.com/v2/venues/search?client_id=".concat("0OM1NOQ1YQMD3HBYBJT3MPFOZSB0XJYAWR3QEVI4NZF4SZOJ","&client_secret=").concat("1Y0XUO1GBRCCAZMOKAWNDSSTWRDV0FDAWYMSH3MAD5FNNGLM","&limit=50&query=").concat("bar","&ll=").concat("45.5122,-122.6587","&radius=50000&intent=browse&v=20190122");return fetch(e).then(function(e){return e.json()})}();Promise.all([t,n]).then(function(t){var n=t[0];e.places=t[1].response.venues,e.google=n,e.map=new n.maps.Map(document.getElementById("map"),{zoom:13,center:{lat:45.5122,lng:-122.6587}}),e.setState({placeList:e.places}),e.markers=[],e.places.forEach(function(t){var a=new n.maps.Marker({position:{lat:t.location.lat,lng:t.location.lng},map:e.map,id:t.id,name:t.name,animation:n.maps.Animation.DROP});e.markers.push(a);var i='<div className="infowindow-name">'+t.name+'</div><div className="infowindow-address"><p>'+t.location.address+"<br />"+t.location.city+", "+t.location.state+" "+t.location.postalCode+"</div>";n.maps.event.addListener(a,"click",function(){e.infowindow.setContent(i),e.map.setCenter(a.position),e.infowindow.open(e.map,a)}),a.addListener("click",function(){null!==a.getAnimation()?a.setAnimation(null):a.setAnimation(n.maps.Animation.BOUNCE),setTimeout(function(){a.setAnimation(null)},1e3)})}),e.infowindow=new n.maps.InfoWindow})}},{key:"filterPlaces",value:function(e){var t=this.places.filter(function(t){return t.name.toLowerCase().includes(e.toLowerCase())});this.markers.forEach(function(t){t.name.toLowerCase().includes(e.toLowerCase())?t.setVisible(!0):t.setVisible(!1)}),this.setState({placeList:t,query:e})}},{key:"placeListClick",value:function(e){var t=this.markers.filter(function(t){return t.id===e.id})[0];this.infowindow.setContent('<div className="infowindow-name">'+e.name+'</div><div className="infowindow-address"><p>'+e.location.address+"<br />"+e.location.city+", "+e.location.state+" "+e.location.postalCode+"</div>"),this.map.setCenter(t.position),this.infowindow.open(this.map,t),null!==t.getAnimation()?t.setAnimation(null):t.setAnimation(this.google.maps.Animation.BOUNCE),setTimeout(function(){t.setAnimation(null)},1e3)}},{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},"Bars in Portland, OR")),i.a.createElement("div",{className:"container"},i.a.createElement(u,{filterplaces:this.filterPlaces,placelist:this.state.placeList,placelistclick:this.placeListClick}),i.a.createElement("main",{id:"map",role:"application"})))}}]),t}(a.Component),h=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function w(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(i.a.createElement(f,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/my-neighborhood-map",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/my-neighborhood-map","/service-worker.js");h?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):w(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):w(t,e)})}}()},9:function(e,t,n){e.exports=n(19)}},[[9,2,1]]]);
//# sourceMappingURL=main.7030fcb8.chunk.js.map